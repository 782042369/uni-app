# è„šæœ¬å‘½ä»¤å‚è€ƒ

> å•ä¸€æ•°æ®æºï¼š`package.json`

æœ¬æ–‡æ¡£åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ npm scriptsï¼ŒåŸºäº `package.json` è‡ªåŠ¨ç”Ÿæˆã€‚

## ç›®å½•

- [å¼€å‘æ¨¡å¼](#å¼€å‘æ¨¡å¼)
- [ç”Ÿäº§æ„å»º](#ç”Ÿäº§æ„å»º)
- [ä»£ç è´¨é‡](#ä»£ç è´¨é‡)
- [ç‰ˆæœ¬ç®¡ç†](#ç‰ˆæœ¬ç®¡ç†)
- [API ç”Ÿæˆ](#api-ç”Ÿæˆ)
- [Git Hooks](#git-hooks)
- [å¹³å°å¯¹æ¯”](#å¹³å°å¯¹æ¯”)

---

## å¼€å‘æ¨¡å¼

### H5 å¼€å‘

```bash
pnpm dev
```

å¯åŠ¨ H5 å¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒçƒ­æ›´æ–°ã€‚

**ç«¯å£ï¼š** é»˜è®¤ 5173ï¼ˆå¯é€šè¿‡ Vite é…ç½®ä¿®æ”¹ï¼‰

**ç‰¹ç‚¹ï¼š**
- âš¡ï¸ Vite HMR çƒ­æ›´æ–°
- ğŸ“¦ è‡ªåŠ¨å¯¼å…¥ç»„ä»¶å’Œ API
- ğŸ¨ UnoCSS å³æ—¶ç¼–è¯‘
- ğŸ” TypeScript ç±»å‹æ£€æŸ¥

---

### Android å¼€å‘

```bash
pnpm dev:app
```

å¯åŠ¨ Android App å¼€å‘æ¨¡å¼ã€‚

**å‰ç½®æ¡ä»¶ï¼š**
- å®‰è£… HBuilderX æˆ– Android Studio
- è¿æ¥ Android è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
- é…ç½® `manifest.config.ts` ä¸­çš„ `appid`

**äº§ç‰©ä½ç½®ï¼š** `unpackage/dist/dev/app-plus/`

---

### HarmonyOS å¼€å‘

```bash
pnpm dev:harmony
```

å¯åŠ¨ HarmonyOS App å¼€å‘æ¨¡å¼ã€‚

**å‰ç½®æ¡ä»¶ï¼š**
- HBuilderX 4.27+
- DevEco Studio 5.0+
- HarmonyOS çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨

**äº§ç‰©ä½ç½®ï¼š** `unpackage/dist/dev/app-harmony/`

---

## ç”Ÿäº§æ„å»º

### H5 æ„å»º

```bash
pnpm build
```

æ„å»º H5 ç”Ÿäº§ç‰ˆæœ¬ã€‚

**äº§ç‰©ä½ç½®ï¼š** `unpackage/dist/build/h5/`

**ä¼˜åŒ–é¡¹ï¼š**
- ä»£ç å‹ç¼©å’Œæ··æ·†
- Tree-shaking å»é™¤æœªä½¿ç”¨ä»£ç 
- èµ„æºå“ˆå¸ŒåŒ–ï¼ˆé•¿æœŸç¼“å­˜ï¼‰
- ç”Ÿæˆ source mapï¼ˆå¯é€‰ï¼‰

---

### Android æ„å»º

```bash
pnpm build:app
```

ç”Ÿæˆ Android æ‰“åŒ…èµ„æºã€‚

**äº§ç‰©ä½ç½®ï¼š** `unpackage/resources/`

**æ³¨æ„ï¼š** æ­¤æ­¥éª¤ä»…ç”Ÿæˆèµ„æºï¼Œå®é™… APK éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼å®Œæˆï¼š
- **äº‘æ‰“åŒ…**ï¼šä½¿ç”¨ HBuilderX äº‘æ‰“åŒ…æœåŠ¡
- **æœ¬åœ°æ‰“åŒ…**ï¼šä½¿ç”¨ Android Studio æ‰“åŒ…

è¯¦ç»†æ­¥éª¤è§ [BUILD.md](./BUILD.md#android-apk-æ‰“åŒ…)

---

### HarmonyOS æ„å»º

```bash
pnpm build:harmony
```

ç”Ÿæˆ HarmonyOS å·¥ç¨‹æ–‡ä»¶ã€‚

**äº§ç‰©ä½ç½®ï¼š** `unpackage/dist/build/app-harmony/`

**æ³¨æ„ï¼š** å®é™… HAP åŒ…éœ€è¦ä½¿ç”¨ DevEco Studio æ‰“åŒ…ã€‚

è¯¦ç»†æ­¥éª¤è§ [BUILD.md](./BUILD.md#harmonyos-åº”ç”¨æ‰“åŒ…)

---

## ä»£ç è´¨é‡

### TypeScript ç±»å‹æ£€æŸ¥

```bash
pnpm type-check
```

æ‰§è¡Œ TypeScript ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚

**æ£€æŸ¥é¡¹ï¼š**
- ç±»å‹æ³¨è§£å®Œæ•´æ€§
- æ¥å£å…¼å®¹æ€§
- æ³›å‹ä½¿ç”¨æ­£ç¡®æ€§
- ä¸¥æ ¼æ¨¡å¼è¿è§„

**ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶**ï¼ˆ`--noEmit`ï¼‰

---

### ESLint ä»£ç æ£€æŸ¥

```bash
pnpm lint
```

æ‰§è¡Œ ESLint æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜ã€‚

**é…ç½®æ–‡ä»¶ï¼š** `eslint.config.js`

**åŠŸèƒ½ï¼š**
- âœ… è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼é—®é¢˜
- âœ… åˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥
- âœ… æ’åºå¯¼å…¥è¯­å¥
- âœ… ç»Ÿä¸€å¼•å·å’Œç¼©è¿›
- âš ï¸ éƒ¨åˆ†å¤æ‚é—®é¢˜éœ€è¦æ‰‹åŠ¨ä¿®å¤

---

## ç‰ˆæœ¬ç®¡ç†

### è§„èŒƒåŒ–æäº¤

```bash
pnpm commit
```

ä½¿ç”¨ Commitizen è¿›è¡Œè§„èŒƒåŒ–æäº¤ã€‚

**æäº¤ç±»å‹ï¼š**
- `feat:` - æ–°åŠŸèƒ½
- `fix:` - Bug ä¿®å¤
- `docs:` - æ–‡æ¡£æ›´æ–°
- `style:` - ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` - é‡æ„
- `perf:` - æ€§èƒ½ä¼˜åŒ–
- `test:` - æµ‹è¯•ç›¸å…³
- `chore:` - æ„å»º/å·¥å…·æ›´æ–°
- `ci:` - CI é…ç½®

---

### å‘å¸ƒç‰ˆæœ¬

```bash
# ä¸»ç‰ˆæœ¬ï¼ˆç ´åæ€§å˜æ›´ï¼‰
pnpm release-major

# æ¬¡ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
pnpm release-minor

# è¡¥ä¸ç‰ˆæœ¬ï¼ˆBug ä¿®å¤ï¼‰
pnpm release-patch
```

ä½¿ç”¨ standard-version è‡ªåŠ¨ç”Ÿæˆ CHANGELOG å¹¶æ›´æ–°ç‰ˆæœ¬å·ã€‚

---

## API ç”Ÿæˆ

### é‡æ–°ç”Ÿæˆ API å®šä¹‰

```bash
pnpm alova-gen
```

åŸºäº Alova é…ç½®é‡æ–°ç”Ÿæˆ API å®šä¹‰å’Œç±»å‹ã€‚

**åŠŸèƒ½ï¼š**
- æ‰«æ API æ¨¡å—
- ç”Ÿæˆ TypeScript ç±»å‹
- æ›´æ–° API å®šä¹‰æ–‡ä»¶

---

## é¡¹ç›®ä¿¡æ¯

### æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯

```bash
pnpm about
```

æ˜¾ç¤ºé¡¹ç›®è¯¦ç»†ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®ã€‚

**è¾“å‡ºå†…å®¹ï¼š**
- é¡¹ç›®åç§°å’Œç‰ˆæœ¬
- ä¾èµ–æ ‘å¤§å°
- æ„å»ºå·¥å…·ç‰ˆæœ¬
- uni-app ç‰ˆæœ¬ä¿¡æ¯

---

## Git Hooks

### Pre-commit Hook

```bash
# è‡ªåŠ¨è§¦å‘ï¼ˆæ— éœ€æ‰‹åŠ¨è¿è¡Œï¼‰
# é…ç½®ï¼šsimple-git-hooks â†’ lint-staged
```

æ¯æ¬¡æäº¤å‰è‡ªåŠ¨è¿è¡Œã€‚

**æ‰§è¡Œæµç¨‹ï¼š**
1. è§¦å‘ Git pre-commit hook
2. è¿è¡Œ `lint-staged`
3. å¯¹æš‚å­˜æ–‡ä»¶æ‰§è¡Œ `eslint --fix`
4. æ£€æŸ¥é€šè¿‡åå…è®¸æäº¤
5. æ£€æŸ¥å¤±è´¥é˜»æ­¢æäº¤

**é…ç½®ä½ç½®ï¼š** `package.json` â†’ `simple-git-hooks` â†’ `lint-staged`

---

### Post-install Hook

```bash
# è‡ªåŠ¨è§¦å‘ï¼ˆæ— éœ€æ‰‹åŠ¨è¿è¡Œï¼‰
# é…ç½®ï¼špostinstall â†’ npx simple-git-hooks
```

å®‰è£…ä¾èµ–åè‡ªåŠ¨è®¾ç½® Git hooksã€‚

---

## å¹³å°å¯¹æ¯”

| å¹³å° | å¼€å‘å‘½ä»¤ | æ„å»ºå‘½ä»¤ | äº§ç‰©ä½ç½® | æœ€ç»ˆæ‰“åŒ… |
|------|---------|---------|---------|---------|
| **H5** | `pnpm dev` | `pnpm build` | `unpackage/dist/build/h5/` | ç›´æ¥éƒ¨ç½² |
| **Android** | `pnpm dev:app` | `pnpm build:app` | `unpackage/resources/` | Android Studio / äº‘æ‰“åŒ… |
| **HarmonyOS** | `pnpm dev:harmony` | `pnpm build:harmony` | `unpackage/dist/build/app-harmony/` | DevEco Studio |

---

## ç¯å¢ƒè¦æ±‚

**å¿…éœ€ç‰ˆæœ¬ï¼š**
- Node.js: â‰¥24.0.0
- pnpm: â‰¥10

**è¯¦ç»†å®‰è£…æ­¥éª¤ï¼š** @GETTING_STARTED.md#ç¯å¢ƒè¦æ±‚

---

## å¸¸è§é—®é¢˜

### Q: `pnpm dev` å¯åŠ¨å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼Œæ¸…ç† node_modules é‡æ–°å®‰è£…ã€‚è¯¦è§ @FAQ.md#å¼€å‘ç¯å¢ƒé—®é¢˜

### Q: `pnpm build` æŠ¥ç±»å‹é”™è¯¯ï¼Ÿ
A: è¿è¡Œ `pnpm type-check` æŸ¥çœ‹è¯¦ç»†é”™è¯¯ã€‚è¯¦è§ @FAQ.md#æ„å»ºæ‰“åŒ…é—®é¢˜

### Q: Android/HarmonyOS æ„å»ºåæ²¡æœ‰å®‰è£…åŒ…ï¼Ÿ
A: æ„å»ºå‘½ä»¤åªç”Ÿæˆèµ„æºï¼Œéœ€è¦ä½¿ç”¨å¯¹åº”å·¥å…·å®Œæˆæœ€ç»ˆæ‰“åŒ…ã€‚è¯¦è§ @BUILD.md

### Q: Git hook ä¸ç”Ÿæ•ˆï¼Ÿ
A: é‡æ–°è¿è¡Œ `pnpm install` è§¦å‘ post-install hookã€‚è¯¦è§ @FAQ.md#å¼€å‘ç¯å¢ƒé—®é¢˜

---

## ç›¸å…³æ–‡æ¡£

- [æ„å»ºæŒ‡å—](./BUILD.md) - è¯¦ç»†çš„æ„å»ºå’Œæ‰“åŒ…æµç¨‹
- [ç¯å¢ƒé…ç½®](./ENV.md) - ç¯å¢ƒå˜é‡é…ç½®
- [å¼€å‘å·¥ä½œæµ](./CONTRIB.md) - å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µ
- [å¸¸è§é—®é¢˜](./FAQ.md) - é—®é¢˜æ’æŸ¥æŒ‡å—

---

æœ€åæ›´æ–°ï¼š2026-02-06
æ•°æ®æºï¼špackage.json (v0.0.0)
